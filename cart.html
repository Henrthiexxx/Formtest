<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shopping Cart</title>
  <link rel="stylesheet" href="https://henrthiexxx.github.io/Formtest/style.css">
  <style>
    .item {
      background: #1a1a1a;
      border: 1px solid #333;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 15px;
    }
    .actions {
      text-align: center;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <h2>ğŸ›’ My Cart</h2>
  <div id="cartList"></div>
  <div class="actions">
    <button onclick="sendToWhatsApp()">ğŸ“² Send via WhatsApp</button>
    <button onclick="clearCart()">ğŸ—‘ï¸ Clear Cart</button>
    <button onclick="window.location.href='index.html'">ğŸ  Home</button>
  </div>

  <script>
    const cartContainer = document.getElementById('cartList');
    const cart = JSON.parse(localStorage.getItem('carrinho')) || [];

    if (cart.length === 0) {
      cartContainer.innerHTML = '<p style="text-align:center">Your cart is empty.</p>';
    } else {
      cart.forEach((item, index) => {
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML = `
          <strong>Item ${index + 1}</strong><br>
          Product: ${item.produto || 'Pizza'}<br>
          Size: ${item.tamanho || 'N/A'}<br>
          Flavors: ${item.sabores?.join(', ') || 'N/A'}<br>
          Crust: ${item.borda || 'None'}<br>
          Extras: ${item.adicionais?.join(', ') || 'None'}<br>
          Beverages: ${item.bebidas?.join(', ') || 'None'}<br>
          Name: ${item.nome || 'N/A'}<br>
          Address: ${item.endereco || 'N/A'}<br>
          Date: ${new Date(item.data).toLocaleString()}<br>
        `;
        cartContainer.appendChild(div);
      });
    }

    function clearCart() {
      if (confirm('Clear all items from the cart?')) {
        localStorage.removeItem('carrinho');
        location.reload();
      }
    }

    function sendToWhatsApp() {
      const number = '5566996455672';
      let message = '*ğŸ›’ My Order:*\n\n';
      cart.forEach((item, i) => {
        message += `ğŸ”¹ *Item ${i + 1}*\n` +
          `Product: ${item.produto || 'Pizza'}\n` +
          `Size: ${item.tamanho || 'N/A'}\n` +
          `Flavors: ${item.sabores?.join(', ') || 'N/A'}\n` +
          `Crust: ${item.borda || 'None'}\n` +
          `Extras: ${item.adicionais?.join(', ') || 'None'}\n` +
          `Beverages: ${item.bebidas?.join(', ') || 'None'}\n` +
          `Name: ${item.nome || 'N/A'}\n` +
          `Address: ${item.endereco || 'N/A'}\n\n`;
      });
      const url = `https://wa.me/${number}?text=${encodeURIComponent(message)}`;
      window.open(url, '_blank');
    }
  </script>
</body>
</html>
