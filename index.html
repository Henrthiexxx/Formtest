<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Monte sua Pizza Grande</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
<h2>üçï Monte sua Pizza Grande</h2>

<form onsubmit="salvarPedido(); return false;">
  <div id="etapa2" class="etapa ativa section">
    <h3>1. Escolha at√© 4 Sabores</h3>
    <div class="btn-group" id="saboresGroup">
      <label class="btn-option"><input type="checkbox" name="sabor" value="Sabores do Campo"><strong>Sabores do Campo</strong><br><span>Milho, ervilha, mussarela e toque de alho.</span></label>
      <label class="btn-option"><input type="checkbox" name="sabor" value="Carnuda Suprema"><strong>Carnuda Suprema</strong><br><span>Calabresa, bacon, presunto e queijo fundido.</span></label>
      <label class="btn-option"><input type="checkbox" name="sabor" value="Verde Leve"><strong>Verde Leve</strong><br><span>Br√≥colis, palmito, requeij√£o e cebola roxa.</span></label>
      <label class="btn-option"><input type="checkbox" name="sabor" value="Doce Tenta√ß√£o"><strong>Doce Tenta√ß√£o</strong><br><span>Chocolate ao leite com morango e granulado.</span></label>
      <label class="btn-option"><input type="checkbox" name="sabor" value="Quatro Del√≠cias"><strong>Quatro Del√≠cias</strong><br><span>Mussarela, cheddar, gorgonzola e parmes√£o.</span></label>
    </div>
    <button type="button" onclick="proximaEtapa(3)">Pr√≥ximo</button>
  </div>

  <div id="etapa3" class="etapa section">
    <h3>2. Escolha a Borda</h3>
    <div class="btn-group" id="bordaGroup">
      <label class="btn-option"><input type="radio" name="borda" value="Catupiry">Catupiry</label>
      <label class="btn-option"><input type="radio" name="borda" value="Cheddar">Cheddar</label>
      <label class="btn-option"><input type="radio" name="borda" value="">Nenhuma</label>
    </div>
    <h3>Adicionais (m√°x. 3)</h3>
    <div class="btn-group" id="adicionaisGroup">
      <label class="btn-option"><input type="checkbox" name="adicional" value="Milho">Milho</label>
      <label class="btn-option"><input type="checkbox" name="adicional" value="Bacon">Bacon</label>
      <label class="btn-option"><input type="checkbox" name="adicional" value="Palmito">Palmito</label>
    </div>
    <button type="button" onclick="voltarEtapa(2)">Voltar</button>
    <button type="submit">Finalizar Pedido</button>
  </div>

  <div class="btn-group-bottom">
    <button type="submit">Finalizar Pedido</button>
    <button type="button" onclick="window.location.href='https://henrthiexxx.github.io/Formtest/carrinho.html'">Outro Bot√£o 1</button>
    <button type="button" onclick="alert('A√ß√£o personalizada aqui');">Outro Bot√£o 2</button>
    <button type="button" onclick="window.location.href='index.html'">P√°gina Inicial</button>
  </div>
</form>

<script>
let etapaAtual = 2;
function proximaEtapa(n) {
  document.getElementById("etapa" + etapaAtual).classList.remove("ativa");
  document.getElementById("etapa" + n).classList.add("ativa");
  etapaAtual = n;
}
function voltarEtapa(n) {
  proximaEtapa(n);
}
function toggleSelect(groupSelector, type, limit = null) {
  document.querySelectorAll(`${groupSelector} input`).forEach(el => {
    el.addEventListener("change", () => {
      const label = el.closest("label");
      if (type === "radio") {
        document.querySelectorAll(`${groupSelector} .btn-option`).forEach(l => l.classList.remove("selected"));
        label.classList.add("selected");
      } else if (type === "checkbox") {
        label.classList.toggle("selected", el.checked);
        const checked = document.querySelectorAll(`${groupSelector} input:checked`);
        if (limit && checked.length > limit) {
          el.checked = false;
          label.classList.remove("selected");
          alert(`M√°ximo de ${limit} op√ß√µes.`);
        }
      }
    });
  });
}
window.onload = () => {
  toggleSelect("#saboresGroup", "checkbox", 4);
  toggleSelect("#bordaGroup", "radio");
  toggleSelect("#adicionaisGroup", "checkbox", 3);
};
</script>
</body>
</html>
